# [AHC038](https://atcoder.jp/contests/ahc038/)

## 問題理解

- 入力
  - N: グリッドの大きさ。15-30でランダムに決定
  - M: たこ焼きの個数。N^2/10-N^/2(23-450)でランダムに決定
  - V: ロボットアームの頂点数。5-15でランダムに決定
  - s: たこ焼きの初期状態
  - t: たこ焼きの目的地
    - s, tは1-5個の中心を決定し、それぞれ独立に標準偏差2-5ガウス分布を、重み0-1で重ね合わせた分布。つまり、いくつかの中心に集まって配置されいている
- 出力
  - V': 使うロボットアームの頂点の個数
  - p: 頂点の親
  - L(p, u): 親p-子uのアームの長さ
  - (x, y): 頂点0の初期位置
    - 初期状態では、すべての子は、右向きになっている
  - S: 操作列
    - 1文字目: UDLRで頂点0の上下左右の1マス移動
    - 2文字目からV'文字目: 親を中心に、L反時計周り、R時計回りに90度回転、.は何もしない
    - V'+1文字目からV'+V'文字目: 親は.、子はPでたこ焼きを掴むか離す、.は何もしない
- スコア
  - すべてのたこ焼きを目的地に配置するとターン数K
  - ターン数を最小にする
- ターン
  - 以下のアームの操作を繰り返す
    - 頂点0は上下左右に移動
    - 他の頂点は親を中心に時計回りか反時計回りに90度回転
    - 葉(アームの先)はたこ焼きを掴むか離すか何もしない

## 考察

- たこ焼きや目的地は固まっているため、まとめて処理した方が効率がよい
- ロボットアームは、V頂点で長さ1にすると頂点0から対角線2Vのひし形にアームが到達できる
  - アームの頂点2つを使って折りたたむと2V-2のひし形も実現できる。その後2つずつ折りたたむひし形を実現できる
  - 到達できる点から、別の点に切り替える時、多くとも2ターンで到達できる
- 目標ターン数
  - アームが範囲Vで自由に動ける1本があるとする
  - M個のたこ焼きを、M個の場所に移動するとする
  - 固まっているため端から順に処理して、少しずつ移動すれば、掴む離すのターン数のみと考えられる
  - 掴むのに2ターン、離すのに2ターンかかるため4Mターン
  - Vが5-15のため、VがN/2程度なら上記を実現可能だが、それより小さい場合は移動にターン数がかかる。親と子のアームの長さを2などにのばすと解決する可能性がある
- 初期解
  - アームの頂点数V、すべての長さ1で、端から処理をしていき4Mターンを目指す
- 今後の改善案
  - アームの親と子の長さを2など長くすると、移動のターン数を節約できる可能性があるが、アームの可動域は狭くなる
  - アームの親と子の長さを変えることも含めて、アームの本数を増やせる可能性がある。2本にすれば単純計算で1/2になる

## ToDo

- アームの頂点数V、すべての長さ1で、端から処理をしていき4Mターンを目指す
